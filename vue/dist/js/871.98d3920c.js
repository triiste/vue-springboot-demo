"use strict";(self["webpackChunkspringboot_vue_demo2"]=self["webpackChunkspringboot_vue_demo2"]||[]).push([[871],{6871:function(e,o,r){r.r(o),r.d(o,{default:function(){return V}});var l=r(6252);const t={style:{width:"100%",height:"100vh","background-color":"#2E8B57",overflow:"hidden"}},s={style:{width:"400px",margin:"150px auto"}},m=(0,l._)("div",{style:{"font-size":"30px","text-align":"center",padding:"30px 0",color:"#cccccc"}},"欢迎登录",-1),a=(0,l.Uk)("普通员工"),u=(0,l.Uk)("总管理"),d=(0,l.Uk)("室主任"),i=(0,l.Uk)("所领导"),n=(0,l.Uk)("登 录");function f(e,o,r,f,p,c){const h=(0,l.up)("el-input"),g=(0,l.up)("el-form-item"),w=(0,l.up)("el-radio"),V=(0,l.up)("el-button"),b=(0,l.up)("el-form");return(0,l.wg)(),(0,l.iD)("div",t,[(0,l._)("div",s,[m,(0,l.Wm)(b,{ref:"form",model:p.form,size:"large",rules:p.rules},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{model:p.form,prop:"userjobid"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{"prefix-icon":f.Avatar,modelValue:p.form.userjobid,"onUpdate:modelValue":o[0]||(o[0]=e=>p.form.userjobid=e),placeholder:"请输入工号"},null,8,["prefix-icon","modelValue"])])),_:1},8,["model"]),(0,l.Wm)(g,{model:p.form,prop:"password"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{"prefix-icon":f.Lock,modelValue:p.form.password,"onUpdate:modelValue":o[1]||(o[1]=e=>p.form.password=e),"show-password":"",placeholder:"请输入密码"},null,8,["prefix-icon","modelValue"])])),_:1},8,["model"]),(0,l.Wm)(g,{model:p.form},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{modelValue:p.form.role,"onUpdate:modelValue":o[2]||(o[2]=e=>p.form.role=e),label:1,style:{color:"white"}},{default:(0,l.w5)((()=>[a])),_:1},8,["modelValue"]),(0,l.Wm)(w,{modelValue:p.form.role,"onUpdate:modelValue":o[3]||(o[3]=e=>p.form.role=e),label:2,style:{color:"white"}},{default:(0,l.w5)((()=>[u])),_:1},8,["modelValue"]),(0,l.Wm)(w,{modelValue:p.form.role,"onUpdate:modelValue":o[4]||(o[4]=e=>p.form.role=e),label:3,style:{color:"white"}},{default:(0,l.w5)((()=>[d])),_:1},8,["modelValue"]),(0,l.Wm)(w,{modelValue:p.form.role,"onUpdate:modelValue":o[5]||(o[5]=e=>p.form.role=e),label:4,style:{color:"white"}},{default:(0,l.w5)((()=>[i])),_:1},8,["modelValue"])])),_:1},8,["model"]),(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(V,{type:"primary",onClick:c.login},{default:(0,l.w5)((()=>[n])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])])])}var p=r(4471),c=r(5781),h={name:"Login",data(){return{form:{},rules:{userjobid:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},setup(){return{Avatar:c.qEK,Lock:c.HEZ}},created(){sessionStorage.removeItem("user")},methods:{login(){p.Z.post("/user/login",this.form).then((e=>{"0"===e.code?(this.$message({type:"success",message:"登录成功"}),console.log("daole"),localStorage.setItem("user",JSON.stringify(e.data)),1===this.form.role?this.$router.push("/hostproject"):3===this.form.role?this.$router.push("/officeperson"):(2===this.form.role||4===this.form.role)&&this.$router.push("/project")):this.$message({type:"error",message:e.msg})}))},register(){this.$router.push("/register")}}},g=r(3744);const w=(0,g.Z)(h,[["render",f]]);var V=w}}]);
//# sourceMappingURL=871.98d3920c.js.map