"use strict";(self["webpackChunkspringboot_vue_demo2"]=self["webpackChunkspringboot_vue_demo2"]||[]).push([[614],{1614:function(e,l,a){a.r(l),a.d(l,{default:function(){return _}});var t=a(6252);const o={style:{padding:"10px"}},s={style:{margin:"10px 0"}},r=(0,t.Uk)("新增"),i={style:{margin:"10px 0"}},d=(0,t.Uk)("查询"),m=(0,t.Uk)("编辑"),u=(0,t.Uk)("删除"),n={style:{margin:"10px 0"}},p=(0,t.Uk)("男"),g=(0,t.Uk)("女"),h={class:"dialog-footer"},f=(0,t.Uk)("确定"),c=(0,t.Uk)("取消");function b(e,l,a,b,W,w){const V=(0,t.up)("el-button"),y=(0,t.up)("el-input"),_=(0,t.up)("el-table-column"),C=(0,t.up)("el-popconfirm"),k=(0,t.up)("el-table"),U=(0,t.up)("el-pagination"),z=(0,t.up)("el-form-item"),x=(0,t.up)("el-radio"),S=(0,t.up)("el-radio-group"),v=(0,t.up)("el-form"),P=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.iD)("div",o,[(0,t._)("div",s,[(0,t.Wm)(V,{type:"primary",onClick:w.add},{default:(0,t.w5)((()=>[r])),_:1},8,["onClick"])]),(0,t._)("div",i,[(0,t.Wm)(y,{style:{width:"20%"},modelValue:W.search,"onUpdate:modelValue":l[0]||(l[0]=e=>W.search=e),size:"large",placeholder:"请输入姓名",clearable:""},null,8,["modelValue"]),(0,t.Wm)(V,{type:"primary",style:{"margin-left":"5px"},onClick:w.load},{default:(0,t.w5)((()=>[d])),_:1},8,["onClick"])]),(0,t.Wm)(k,{data:W.tableData,stripe:"",border:"",style:{width:"100%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(_,{prop:"userid",label:"ID",sortable:""}),(0,t.Wm)(_,{prop:"userjobid",label:"工号",sortable:""}),(0,t.Wm)(_,{prop:"username",label:"用户名"}),(0,t.Wm)(_,{prop:"telephone",label:"电话"}),(0,t.Wm)(_,{prop:"age",label:"年龄"}),(0,t.Wm)(_,{prop:"sex",label:"性别"}),(0,t.Wm)(_,{prop:"address",label:"地址"}),(0,t.Wm)(_,{prop:"position",label:"职位"}),(0,t.Wm)(_,{prop:"permission",label:"部门"}),(0,t.Wm)(_,{prop:"mark",label:"积分"}),(0,t.Wm)(_,{fixed:"right",label:"操作",width:"120"},{default:(0,t.w5)((e=>[(0,t.Wm)(V,{link:"",type:"primary",size:"small",onClick:l=>w.handleEdit(e.row)},{default:(0,t.w5)((()=>[m])),_:2},1032,["onClick"]),(0,t.Wm)(C,{title:"确认删除吗？",onConfirm:l=>w.handleDelete(e.row.userid)},{reference:(0,t.w5)((()=>[(0,t.Wm)(V,{link:"",type:"danger",size:"small"},{default:(0,t.w5)((()=>[u])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),(0,t._)("div",n,[(0,t.Wm)(U,{currentPage:W.currentPage,"onUpdate:currentPage":l[1]||(l[1]=e=>W.currentPage=e),"page-sizes":[5,10,20],"page-size":W.pageSize,disabled:e.disabled,layout:"total, sizes, prev, pager, next, jumper",total:W.total,onSizeChange:w.handleSizeChange,onCurrentChange:w.handleCurrentChange},null,8,["currentPage","page-size","disabled","total","onSizeChange","onCurrentChange"]),(0,t.Wm)(P,{modelValue:W.dialogVisible,"onUpdate:modelValue":l[11]||(l[11]=e=>W.dialogVisible=e),title:"提示",width:"30%"},{footer:(0,t.w5)((()=>[(0,t._)("span",h,[(0,t.Wm)(V,{type:"primary",onClick:w.save},{default:(0,t.w5)((()=>[f])),_:1},8,["onClick"]),(0,t.Wm)(V,{onClick:l[10]||(l[10]=e=>W.dialogVisible=!1)},{default:(0,t.w5)((()=>[c])),_:1})])])),default:(0,t.w5)((()=>[(0,t.Wm)(v,{model:W.form,"label-width":"120px"},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{label:"工号"},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{modelValue:W.form.userjobid,"onUpdate:modelValue":l[2]||(l[2]=e=>W.form.userjobid=e),style:{width:"70%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(z,{label:"用户名"},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{modelValue:W.form.username,"onUpdate:modelValue":l[3]||(l[3]=e=>W.form.username=e),style:{width:"70%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(z,{label:"电话"},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{modelValue:W.form.telephone,"onUpdate:modelValue":l[4]||(l[4]=e=>W.form.telephone=e),style:{width:"70%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(z,{label:"年龄"},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{modelValue:W.form.age,"onUpdate:modelValue":l[5]||(l[5]=e=>W.form.age=e),style:{width:"70%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(z,{label:"性别"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{modelValue:W.form.sex,"onUpdate:modelValue":l[6]||(l[6]=e=>W.form.sex=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{label:"男",size:"large"},{default:(0,t.w5)((()=>[p])),_:1}),(0,t.Wm)(x,{label:"女",size:"large"},{default:(0,t.w5)((()=>[g])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(z,{label:"地址"},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{type:"textarea",modelValue:W.form.address,"onUpdate:modelValue":l[7]||(l[7]=e=>W.form.address=e),style:{width:"70%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(z,{label:"职位"},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{modelValue:W.form.position,"onUpdate:modelValue":l[8]||(l[8]=e=>W.form.position=e),style:{width:"70%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(z,{label:"部门"},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{type:"textarea",modelValue:W.form.permission,"onUpdate:modelValue":l[9]||(l[9]=e=>W.form.permission=e),style:{width:"70%"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])])}var W=a(4471),w={name:"User",components:{},data(){return{form:{},dialogVisible:!1,search:"",user:{},currentPage:1,pageSize:10,total:0,tableData:[]}},created(){this.load();let e=localStorage.getItem("user")||"{}";this.user=JSON.parse(e),W.Z.get("/user/"+this.user.userid).then((e=>{"0"===e.code&&(this.user=e.data)}))},methods:{load(){W.Z.get("/user",{params:{pageNum:this.currentPage,pageSize:this.pageSize,search:this.search}}).then((e=>{console.log(e),this.tableData=e.data.records,this.total=e.data.total})),console.log(this.form)},add(){this.dialogVisible=!0,this.form={}},save(){this.form.userid?W.Z.put("/user",this.form).then((e=>{console.log(e),"0"==e.code?this.$message({type:"success",message:"更新成功！"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogVisible=!1})):W.Z.post("/user",this.form).then((e=>{console.log(e),"0"==e.code?this.$message({type:"success",message:"新增成功！"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogVisible=!1}))},handleEdit(e){this.form=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0},handleDelete(e){console.log(e),W.Z["delete"]("/user/"+e).then((e=>{"0"===e.code?this.$message({type:"success",message:"删除成功！"}):this.$message({type:"error",message:e.msg}),this.load()}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.currentPage=e,this.load()}}},V=a(3744);const y=(0,V.Z)(w,[["render",b]]);var _=y}}]);
//# sourceMappingURL=614.4b2db3ba.js.map